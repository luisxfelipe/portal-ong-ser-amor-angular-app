{
	"name": "Portal-ONG-Ser-Amor-Frontend-Angular",

	// Aponta para o conjunto de arquivos docker-compose na raiz do projeto.
	// O Docker irá mesclá-los, para criar o contêiner de desenvolvimento.
	"dockerComposeFile": [
		"../docker-compose.yml",
		"../docker-compose.override.yml"
	],

	// O serviço ao qual o VS Code deve se conectar.
	"service": "frontend",

	// A pasta que será aberta dentro do contêiner.
	"workspaceFolder": "/usr/src/app",

	// Comando que roda DEPOIS que o container está pronto, mas ANTES de conectar
	"postStartCommand": "npm install",

	// Ação a ser tomada quando a janela do VS Code for fechada.
	"shutdownAction": "stopCompose",

	// Features que serão instaladas no contêiner.
	// Mais informações: https://containers.dev/features
	"features": {
		"ghcr.io/devcontainers/features/common-utils:2": {
			"installZsh": true,
			"configureZshAsDefaultShell": true,
			"installOhMyZsh": true,
			"installOhMyZshConfig": true,
			"upgradePackages": true,
			"username": "node",
			"userUid": "automatic",
			"userGid": "automatic"
		},
		"ghcr.io/stuartleeks/dev-container-features/shell-history:0": {}
	},

	// Use 'forwardPorts' para criar uma lista de portas dentro do contêiner disponíveis localmente.
	// Garante que a porta 4200 (Frontend) fique acessível no seu PC
	"forwardPorts": [4200], // Porta interna do Angular CLI
	"portsAttributes": {
		"4200": { // Porta DENTRO do container
			"label": "Frontend",
			"onAutoForward": "notify"
		}
	},

	// Uncomment the next line if you want start specific services in your Docker Compose config.
	// "runServices": [],

	// Descomente a próxima linha se quiser manter seus contêineres em execução após o encerramento do VS Code.
	// "shutdownAction": "none",

	// Descomente a próxima linha para executar comandos após a criação do contêiner.
	"postCreateCommand": "echo 'Frontend Angular Dev Container criado com sucesso!'",

	// Customizações do VS Code (extensões e configurações)
	"customizations": {
		"vscode": {
			// Extensões que serão instaladas automaticamente no contêiner.
			"extensions": [
				// Essenciais para Qualidade de Código e Frontend Dev
				"editorconfig.editorconfig",
				"dbaeumer.vscode-eslint",
				"esbenp.prettier-vscode",

        // Angular Específico
				"angular.ng-template",              // Angular Language Service (oficial)
				"johnpapa.angular2",                // Angular Snippets
				"alexiv.vscode-angular2-files",     // Gerador de arquivos Angular
				"segerdekort.angular-cli",          // Angular CLI commands

        // HTML/Template
				"formulahendry.auto-close-tag",
				"formulahendry.auto-rename-tag",

        // Produtividade
				"steoates.autoimport",
				"usernamehw.errorlens",
				"natqe.reload",

        // UI/UX
				"pkief.material-icon-theme",
				"johnpapa.vscode-peacock",

        // CSS/Tailwind
				"bradlc.vscode-tailwindcss"
			],
			// Configurações específicas do VS Code para o contêiner.
			"settings": {
				"editor.formatOnSave": true,
				"editor.defaultFormatter": "esbenp.prettier-vscode",

        // Configurações específicas para arquivos Angular
				"[html]": {
					"editor.defaultFormatter": "esbenp.prettier-vscode"
				},
				"[typescript]": {
					"editor.defaultFormatter": "esbenp.prettier-vscode"
				},

				"terminal.integrated.defaultProfile.linux": "zsh",
				"terminal.integrated.profiles.linux": {
					"zsh": {
						"path": "/usr/bin/zsh"
					}
				}
			}
		}
	},

	// Descomente para conectar-se como um usuário existente diferente do padrão do contêiner. Mais informações: https://aka.ms/dev-containers-non-root.
	"remoteUser": "node"
}
